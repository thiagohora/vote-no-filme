<!--
Copyright 2004 Sun Microsystems, Inc. All Rights Reserved
SUN PROPRIETARY/CONFIDENTIAL
Use is subject to license terms.
-->
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Big5">
<TITLE>連線工廠可靠度</TITLE>
 <LINK rel="StyleSheet" href="ide.css">
 
</HEAD>
<BODY>
 
<H2>連線工廠物件屬性 > <BR> 可靠度和流量控制</H2>
 
<P>使用此標籤重新指定在用戶端執行階段 Message Queue 控制訊息 (代理程式的確認) 的使用和流量控制單位。</P>
<p><b>產生訊息時等待確認</b> 指定產生用戶端訊息的代理程式回應：</p>

<ul>
<li>如果設定為 true，則代理程式會確認所有從產生用戶端接收到的 JMS 訊息 (永久性和非永久性的)，並且在等待這些確認時，使產生用戶端執行緒阻隔。</li>
<li>反之，代理程式將不會確認任何從產生用戶端接收到的 JMS 訊息 (永久性和非永久性的)，而在等待代理程式確認時，產生用戶端執行緒將不會阻隔。</li>
<li> 如果未指定，則代理程式僅確認接收到的永久性的訊息，等待這些確認時，產生用戶端執行緒將會阻隔。</li>
</ul>

<p><b>確認訊息時等待確認</b> 指定使用用戶端確認的代理程式確認：</p>

<ul>
<li>如果設定為 true，則代理程式會確認所有使用中的用戶端確認，而等待此代理程式確認時，使用中的用戶端執行緒將會阻隔。</li>
<li>反之，則代理程式不會確認任何使用中的用戶端確認，而等待此代理程式確認時，使用中的用戶端執行緒將不會阻隔。</li>
<li> 如果尚未指定，代理程式會確認 AUTO_ACKNOWLEDGE 和 CLIENT_ACKNOWLEDGE 模式的使用中用戶端確認 (並且在等待代理程式確認時，使用中的用戶端執行緒將會阻隔)，但是代理程式不會確認 DUPS_OK_ACKNOWLEDGE 模式的使用中用戶端確認 (並且在等待代理程式確認時，使用中的用戶端執行緒將不會阻隔)。</li>
</ul>
<p><b>訊息服務確認逾時 (以毫秒為單位)</b> 指定在拋棄異常之前，用戶端執行階段等待任何代理程式確認的最長時間 (以毫秒為單位)。預設值為 0，意味著無逾時，換句話說，用戶端執行階段將永遠等待。</p>
<p><b>JMS 訊息流量控制資料塊計數 (訊息數目) </b> 指定計數批次中的最大 JMS 訊息數。當此數量的 JMS 訊息發送至用戶端執行階段時，發送將臨時暫停，並允許發送任何被阻擋的控制訊息。依照用戶端執行階段的通知，恢復發送 JMS 訊息，直至計數再次到達指定數目。如果將計數設定為 0，則在計數批次中對 JMS 訊息數量不做限制。而非零設定則允許用戶端執行階段對訊息流量進行計數，以便 Message Queue 控制訊息不會被大量的 JMS 訊息發送阻隔，並且可以流至計數批次之間的用戶端。</p>

<p><b>限制用戶端的 JMS 訊息流量</b> 指定是否限制用戶端的 JMS 訊息流量 (發送至用戶端執行階段的未使用訊息數量)。如果已核取此方塊，則必須為 <b>[連接流量限制]</b> 欄位指定一個正數。</p>
<p><b>JMS 訊息流量限制 (每次連線的未使用訊息)</b> 限制可透過連接發送，以及在用戶端執行階段緩衝的待用訊息數 (僅適用於已核取 <b>[限制用戶端的 JMS 訊息流量]</b> 時)。當發送至用戶端執行階段 的 JMS 訊息數量 (依照由 <b>[JMS 訊息流量控制資料塊計數 (訊息數目)]</b> 所控制的流量測量) 超過了該限制時，訊息發送就會停止。僅當未使用的訊息數目低於此屬性設定的值時，才恢復發送訊息。此限制對於耗費大量時間處理訊息的使用中用戶端，可使其免於受擱置訊息所苦，因為這些訊息可能會導致系統記憶體不足。 </p>

<P><b>使用者流量限制 (每位使用者的未使用訊息) </b>限制可透過連接發送，以及用戶端執行階段緩衝的每位使用者之訊息數。此限制有兩種用途：可以在多使用者佇列發送情況中，改善使用者之間的負載平衡 (沒有使用者會收到過多的訊息數)，並且有助於平衡所有連接使用者的流量。如果發送至用戶端執行階段的 JMS 訊息數超過此限制時，則會停止發送訊息給該使用者。只有在發送給該使用者的未使用訊息數低於此 <b>[使用者流量臨界值]</b> 之設定值時，才恢復發送訊息。 </P>
<P>注意，如果所有連接使用者的緩衝訊息總數超過 <b>[連接流量限制]</b>，則會停止透過該連接的訊息發送，直到總數低於該限制為止。如果您指定 [使用者流量限制]，則不需要設定 [連接流量限制]，除非情況過於特殊。對於訊息流量測量的大多數應用程式需求，將可藉由設定 [使用者流量限制] 以達到這些需求，而不需要啟用 [連接流量限制]。</P>
<P><b>使用者流量臨界值 (百分比) </b>指定於用戶端執行階段緩衝的每位使用者之訊息數 (<b>[使用者流量限制]</b> 的百分比)，低於該值時，便會繼續發送訊息給使用者。 </P>
<P>&nbsp;</P>
<P>&nbsp;</P>

</BODY>
</HTML>
